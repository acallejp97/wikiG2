<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Instalación de Contendor LXC</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="../css/estilo2.css" />
</head>

<body>
    <h1>Instalación de Contendor LXC</h1>
    <section>
        <article id="creoCont">
            <div>
                <h2>Como crear un contenedor:</h2>
                <img id="imagen1" src="../imagenes/ProxmoxCT1.png" alt="proxmoxCT1" title="imagen 1" height="120" width="140">
                <p> En Proxmox podemos crear dos cosas:<br>
                    <em>1. Máquinas Virtuales KVM. Se crean a partir de una ISO.</em><br>
                    <em>2. Contenedores.</em><br></p>
                <p> A partir de la versión 4.x se utilizan contenedores LXC. Se crean a partir de una plantilla de
                    contenedor. Estas plantillas pueden descargarse directamente desde los repositorios de plantillas
                    de Proxmox.
                </p>
                <p> Para crear un contenedor vamos al nodo (servidor) que nos interesa y damos a createCT. Aquí
                    rellenamos hostname con el nombre que queremos dar a nuestro contenedor, en recursos asignamos
                    nuestro grupo,que está formado por nuestros usuarios en proxmox, ponemos una contraseña y aceptamos
                    (el usuario será por defecto root).</p>
                <p>En el siguiente paso elegimos la plantilla que previamente descargamos desde el almacenamiento local
                    de nuestro nodo y aceptamos. Después elegimos el disco en el que se instalará y el tamaño que se le
                    asignará y aceptamos. Después asignamos el número de núcleos y aceptamos.</p>
                <p>Después elegimos la memoria y aceptamos.Después asignamos la configuración de red para acceder desde
                    un navegador externo. Luego asignamos el servidor DNS y finalmente confirmamos.
                </p>
            </div>
        </article>
        <article id="inicCont">
            <div class="imagen">

            </div>
            <div class="texto">
                <h2>Como iniciar contenedor:</h2>
                <div id="imagen2">
                    <img src="../imagenes/ProxmoxCT2.png" alt="proxmoxCT2" height="120" width="140">

                    <img src="../imagenes/ProxmoxCT3.png" alt="proxmoxCT3" height="120" width="140">
                </div>
                <p> Para iniciar un contenedor, vamos al nodo en el que lo instalamos y al desplegarlo aparacerá. Lo
                    seleccionamos y con el click derecho desplegamos las opciones, entre ellas estará start. Si el
                    servidor no deja iniciar porque falla qemu ejecutamos las siguientes órdenes en la termianl de el
                    contenedor:<br>
                    <em>systemctl stop pve-cluster</em>
                    <br>
                    <em>pmxcfs -1</em>

                </p>
                <p>
                    Después nos dejará iniciarlo y meteremos las credenciales del usuario.
                </p>
            </div>


        </article>
        <article id="instApacheGit">
            <div class="texto">
                <h2>Como instalar apache y git en el contenedor:</h2>
                <p>Una vez introducidas las credenciales instalamos apache2 y git con:<br>
                    <em>sudo apt-get install apache2</em>
                    <br>
                    <em>sudo apt-get install git</em>
                </p>
            </div>
        </article>
        <article id="usarApacheGit">
            <div>
                <h2>Como usar Apache y git conjuntamente:</h2>
                <img id="imagen4" src="../imagenes/ProxmoxCT5.png" alt="proxmoxCT1" height="120" width="140">
                <p>
                    En la carpeta /var/www/html está el index de apache2. En está misma carpeta haremos un git pull de
                    nuestro repositorio y podremos acceder a el a través de la ip que asignamos al contenedor.
                </p>
            </div>
        </article>
    </section>
</body>

</html>